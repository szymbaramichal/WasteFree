.portal-layout { 
	min-height: 100vh; 
	position: relative; 
	/* d-flex is applied in template, but keep fall-back */
	display: flex; 
}

/* Fixed (stable) sidebar width */
.portal-sidebar {
	flex: 0 0 240px; /* don't grow or shrink */
	width: 240px; /* explicit for safety */
	max-width: 240px;
	box-shadow: 0 2px 12px rgba(0,0,0,0.06);
	/* Prevent content-induced expansion */
	overflow: hidden;
}
.portal-sidebar.bg-light {
	background:
		radial-gradient(circle at 18% 0%, rgba(43, 182, 115, 0.10), transparent 40%),
		radial-gradient(circle at 82% 100%, rgba(31, 139, 86, 0.08), transparent 42%),
		linear-gradient(180deg, rgba(246, 255, 251, 0.70), rgba(236, 252, 245, 0.58));
	-webkit-backdrop-filter: saturate(160%) blur(12px);
	backdrop-filter: saturate(160%) blur(12px);
	border-right: 1px solid rgba(31, 139, 86, 0.15);
}

.portal-sidebar .nav-link {
	color: #1f2d3a;
	border-radius: 8px;
	margin: 2px 6px;
	transition: background-color .18s ease, color .18s ease;
	display: flex;
	align-items: center;
}
.portal-sidebar .nav-link:hover {
	background-color: rgba(43, 182, 115, 0.14);
	color: #14212b;
}
.portal-sidebar .nav-link.active {
	background-color: var(--primary-green, #2bb673);
	color: #fff;
}
.portal-sidebar .nav-link.active:hover {
	background-color: var(--primary-green-dark, #1f8b56);
}


.portal-sidebar { position: relative; display:flex; flex-direction: column; }
.portal-sidebar .nav { display:flex; flex-direction: column; flex:1 1 auto; }

/* Main content area scrolls independently to avoid body scrollbar width shifts */
.portal-content { 
	flex: 1 1 auto; 
	min-width: 0; /* allow flexbox to shrink without overflow */
	overflow-y: auto; 
	-webkit-overflow-scrolling: touch; 
}

/* Keep internal nav tidy */
.portal-sidebar .nav { 
	overflow-y: auto; 
	max-height: 100vh; 
	padding-bottom: 1rem; 
}

/* Responsive: collapse to top bar on smaller screens */
@media (max-width: 991.98px) { /* Bootstrap lg breakpoint */
	.portal-layout { flex-direction: column; }
	.portal-sidebar { 
		flex: 0 0 auto; 
		width: 100%; 
		max-width: none; 
		overflow: visible; 
	}
	.portal-sidebar .nav { max-height: none; }
}

/* Icon + text alignment */
.portal-sidebar .nav-icon {
	width: 20px;
	height: 20px;
	margin-right: 10px;
	display: inline-block;
	object-fit: contain;
}
/* Only invert bitmap/svg image tags; inline SVG inherits currentColor */
.portal-sidebar .nav-link.active img.nav-icon {
	filter: brightness(0) invert(1);
}
.portal-sidebar .nav-text {
	line-height: 1.2;
}
