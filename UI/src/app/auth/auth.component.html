<div class="auth-container">
  <ng-container *ngIf="!showActivationSection">
    <h2 *ngIf="isLoginMode">{{ 'auth.login' | translate }}</h2>
    <h2 *ngIf="!isLoginMode">{{ 'auth.register' | translate }}</h2>

    <form *ngIf="isLoginMode" [formGroup]="loginForm" (ngSubmit)="onLogin()">
      <label for="username">{{ 'auth.username' | translate }}</label>
      <input id="username" formControlName="username" type="text" />

      <label for="password">{{ 'auth.password' | translate }}</label>
      <input id="password" formControlName="password" type="password" />

      <button type="submit" [disabled]="loginForm.invalid">{{ 'auth.login.btn' | translate }}</button>
    </form>

    <form *ngIf="!isLoginMode" [formGroup]="registerForm" (ngSubmit)="onRegister()">

      <label for="username">{{ 'auth.username' | translate }}</label>
      <input id="username" formControlName="username" type="text" />

      <label for="email">{{ 'auth.email' | translate }}</label>
      <input id="email" formControlName="email" type="email" />

      <label for="password">{{ 'auth.password' | translate }}</label>
      <input id="password" formControlName="password" type="password" />

      <label>{{ 'auth.role' | translate }}</label>
      <div class="role-tiles">
        <label class="role-tile" [class.selected]="registerForm.get('role')?.value === 'User'">
          <input type="radio" formControlName="role" value="User" />
          <span class="role-title">{{ 'auth.role.user' | translate }}</span>
          <span class="role-desc">{{ 'auth.role.user.desc' | translate }}</span>
        </label>
        <label class="role-tile" [class.selected]="registerForm.get('role')?.value === 'GarbageAdmin'">
          <input type="radio" formControlName="role" value="GarbageAdmin" />
          <span class="role-title">{{ 'auth.role.garbageAdmin' | translate }}</span>
          <span class="role-desc">{{ 'auth.role.garbageAdmin.desc' | translate }}</span>
        </label>
      </div>

      <button type="submit" [disabled]="registerForm.invalid">{{ 'auth.register.btn' | translate }}</button>
    </form>

    <p>
      <a href="#" (click)="toggleMode($event)">
        {{ isLoginMode ? ('auth.toggle.noAccount' | translate) : ('auth.toggle.haveAccount' | translate) }}
      </a>
    </p>

    <div *ngIf="error" class="error">{{ error }}</div>
  </ng-container>
  <ng-container *ngIf="showActivationSection">
  <h3 style="color:var(--primary-green-dark);margin-bottom:18px;font-size:1.22rem;font-weight:700;text-align:center;">{{ 'auth.account.created.title' | translate }}</h3>
    <p style="color:#2e8b57;font-size:1.05rem;margin-bottom:22px;text-align:center;">{{ 'auth.account.created.desc' | translate }}</p>
    <button (click)="returnToLogin()" style="padding:10px 28px;background:linear-gradient(90deg, var(--primary-green), var(--primary-green-dark));color:var(--white);border:none;border-radius:8px;font-size:1.08rem;font-weight:700;cursor:pointer;transition:background 0.18s, box-shadow 0.18s, transform 0.13s;box-shadow:0 2px 12px 0 rgba(60,179,113,0.13);">{{ 'auth.backToLogin' | translate }}</button>
  </ng-container>
</div>

